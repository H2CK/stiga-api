// ------------------------------------------------------------------------------------------------------------------------------------------------------------
// ------------------------------------------------------------------------------------------------------------------------------------------------------------

const Database = require('better-sqlite3');

// ------------------------------------------------------------------------------------------------------------------------------------------------------------
// ------------------------------------------------------------------------------------------------------------------------------------------------------------

class AnalyserBase {
    constructor(databasePath) {
        this.databasePath = databasePath;
    }
    open() {
        this.db = new Database(this.databasePath, { readonly: true, fileMustExist: true });
        this.db.pragma('journal_mode = WAL');
    }

    close() {
        if (this.db) this.db.close();
    }
}

// ------------------------------------------------------------------------------------------------------------------------------------------------------------
// ------------------------------------------------------------------------------------------------------------------------------------------------------------

module.exports = AnalyserBase;

// ------------------------------------------------------------------------------------------------------------------------------------------------------------
// ------------------------------------------------------------------------------------------------------------------------------------------------------------
